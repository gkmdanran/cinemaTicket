{"version":3,"sources":[null,"webpack:///C:/Users/kaiming.gu_sx/Desktop/cinemaTicket/components/TemplateA/TemplateA.vue?97d5","webpack:///C:/Users/kaiming.gu_sx/Desktop/cinemaTicket/components/TemplateA/TemplateA.vue?4239","webpack:///C:/Users/kaiming.gu_sx/Desktop/cinemaTicket/components/TemplateA/TemplateA.vue?c575","uni-app:///components/TemplateA/TemplateA.vue","webpack:///C:/Users/kaiming.gu_sx/Desktop/cinemaTicket/components/TemplateA/TemplateA.vue?12ab","webpack:///C:/Users/kaiming.gu_sx/Desktop/cinemaTicket/components/TemplateA/TemplateA.vue?063d"],"names":["name","data","showCrop","preBigImg","ticketUrl","preTicket","ticketInfo","bigImg","mainTitle","subTitle","duration","kinds","releaseTime","cinema","hell","seat","price","dateTime","methods","selectImg","uni","count","success","onok","oncancel","showDrawer","cancel","save","createImage","quality","canvasId","complete","drawText","lineWidth","ctx","initHeight","lastSubStrIndex","drawTemplate","dashYarr","detailArr","txt","x","y","InfoLabelArr","InfoCntArr","mounted"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkI;AAClI;AAC6D;AACL;AACsC;;;AAG9F;AACkL;AAClL,gBAAgB,2LAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,gGAAM;AACR,EAAE,yGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,wQAEN;AACP,KAAK;AACL;AACA,aAAa,qTAEN;AACP,KAAK;AACL;AACA,aAAa,oVAEN;AACP,KAAK;AACL;AACA,aAAa,oSAEN;AACP,KAAK;AACL;AACA,aAAa,gZAEN;AACP,KAAK;AACL;AACA,aAAa,wUAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC1DA;AAAA;AAAA;AAAA;AAAoqB,CAAgB,yrBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCgExrB;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;IACA;EACA;EACAC;IACAC;MAAA;MACAC;QACAC;QACAC;UACA;UACA;UACA;QACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MAAA;MACAR;QACAS;QACAC;QACAC;UACA;YACA;UACA;QACA;MACA;IACA;IACAC;MACA;MACA;MACA;QACAC;QACA;UACAC;UACAC;UACAF;UACAG;QACA;QACA;UAAA;UACAF;QACA;MACA;IAEA;IACAG;MAAA;MACA;MACA;MACA;MACA;MACA;MACAH;MACAA;MACA;MACAA;MACAA;MACAA;MACA;MACAA;MACAA;MACAA;MACA;MACAA;MACAA;MACAA;MACA;MACA;MACAI;QACAJ;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA;MACA;MACA;MACA;MACA,2BACA,4CACA,iCACA,8CACA;MACAK;QACAL;QACAA;QACAA;MACA;MACA;MACA;MACA;QACAM;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,EACA;MACAC;QACAT;QACAA;QACAA;MACA;MACA;QACAM;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,EACA;MACAE;QACAV;QACAA;QACA;UACAA;QACA;UACA;QACA;MACA;MACA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACA;MACAA;MACAA;MACAA;MACAA;MACAA;MACA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;QACA;MACA;IACA;EACA;EACAW;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AChTA;AAAA;AAAA;AAAA;AAAwvC,CAAgB,ytCAAG,EAAC,C;;;;;;;;;;;ACA5wC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/TemplateA/TemplateA.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./TemplateA.vue?vue&type=template&id=a6310958&scoped=true&\"\nvar renderjs\nimport script from \"./TemplateA.vue?vue&type=script&lang=js&\"\nexport * from \"./TemplateA.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TemplateA.vue?vue&type=style&index=0&id=a6310958&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a6310958\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/TemplateA/TemplateA.vue\"\nexport default component.exports","export * from \"-!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./TemplateA.vue?vue&type=template&id=a6310958&scoped=true&\"","var components\ntry {\n  components = {\n    uniDrawer: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-drawer/components/uni-drawer/uni-drawer\" */ \"@/uni_modules/uni-drawer/components/uni-drawer/uni-drawer.vue\"\n      )\n    },\n    uniForms: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-forms/components/uni-forms/uni-forms\" */ \"@/uni_modules/uni-forms/components/uni-forms/uni-forms.vue\"\n      )\n    },\n    uniFormsItem: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-forms/components/uni-forms-item/uni-forms-item\" */ \"@/uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.vue\"\n      )\n    },\n    uniEasyinput: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput\" */ \"@/uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.vue\"\n      )\n    },\n    uniDatetimePicker: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-datetime-picker/components/uni-datetime-picker/uni-datetime-picker\" */ \"@/uni_modules/uni-datetime-picker/components/uni-datetime-picker/uni-datetime-picker.vue\"\n      )\n    },\n    kspCropper: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/ksp-cropper/components/ksp-cropper/ksp-cropper\" */ \"@/uni_modules/ksp-cropper/components/ksp-cropper/ksp-cropper.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./TemplateA.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./TemplateA.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"TemplateA\">\r\n\t\t<canvas class=\"canvas\" canvas-id=\"TemplateA\" id=\"TemplateA\"></canvas>\r\n\t\t<view class=\"wrap\">\r\n\t\t\t<image :src=\"ticketUrl\" mode=\"widthFix\"></image>\r\n\t\t</view>\r\n\t\t<uni-drawer ref=\"drawer\" mode=\"right\" :width=\"320\" :maskClick=\"false\">\r\n\t\t\t<scroll-view scroll-y=\"true\" class=\"scroll-y\">\r\n\t\t\t\t<view class=\"form\">\r\n\t\t\t\t\t<uni-forms :modelValue=\"ticketInfo\" label-align=\"right\" label-width=\"90px\">\r\n\t\t\t\t\t\t<uni-forms-item label=\"海报:\" name=\"bigImg\">\r\n\t\t\t\t\t\t\t<image :src=\"ticketInfo.bigImg\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t\t<button size=\"mini\" type=\"primary\" @click=\"selectImg\">更换海报</button>\r\n\t\t\t\t\t\t</uni-forms-item>\r\n\t\t\t\t\t\t<uni-forms-item label=\"标题:\" name=\"mainTitle\">\r\n\t\t\t\t\t\t\t<uni-easyinput type=\"text\" v-model=\"ticketInfo.mainTitle\" placeholder=\"例:流浪地球2\"\r\n\t\t\t\t\t\t\t\tmaxlength=\"99\" />\r\n\t\t\t\t\t\t</uni-forms-item>\r\n\t\t\t\t\t\t<uni-forms-item label=\"副标题:\" name=\"subTitle\">\r\n\t\t\t\t\t\t\t<uni-easyinput type=\"text\" v-model=\"ticketInfo.subTitle\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"例:The Wandering Earth II\" maxlength=\"99\" />\r\n\t\t\t\t\t\t</uni-forms-item>\r\n\t\t\t\t\t\t<uni-forms-item label=\"时长(分钟):\" name=\"duration\">\r\n\t\t\t\t\t\t\t<uni-easyinput type=\"number\" v-model=\"ticketInfo.duration\" maxlength=\"8\" />\r\n\t\t\t\t\t\t</uni-forms-item>\r\n\t\t\t\t\t\t<uni-forms-item label=\"分类:\" name=\"kinds\">\r\n\t\t\t\t\t\t\t<uni-easyinput type=\"text\" v-model=\"ticketInfo.kinds\" placeholder=\"例:科幻/冒险/灾难\"\r\n\t\t\t\t\t\t\t\tmaxlength=\"99\" />\r\n\t\t\t\t\t\t</uni-forms-item>\r\n\t\t\t\t\t\t<uni-forms-item label=\"上映日期:\" name=\"releaseTime\">\r\n\t\t\t\t\t\t\t<uni-datetime-picker type=\"date\" :clear-icon=\"false\" v-model=\"ticketInfo.releaseTime\" />\r\n\t\t\t\t\t\t</uni-forms-item>\r\n\t\t\t\t\t\t<uni-forms-item label=\"影院:\" name=\"cinema\">\r\n\t\t\t\t\t\t\t<uni-easyinput type=\"text\" v-model=\"ticketInfo.cinema\" placeholder=\"例:幸福蓝海国际影城\"\r\n\t\t\t\t\t\t\t\tmaxlength=\"99\" />\r\n\t\t\t\t\t\t</uni-forms-item>\r\n\t\t\t\t\t\t<uni-forms-item label=\"影厅:\" name=\"hell\">\r\n\t\t\t\t\t\t\t<uni-easyinput type=\"text\" v-model=\"ticketInfo.hell\" placeholder=\"例:5号全景声厅\"\r\n\t\t\t\t\t\t\t\tmaxlength=\"18\" />\r\n\t\t\t\t\t\t</uni-forms-item>\r\n\t\t\t\t\t\t<uni-forms-item label=\"座位:\" name=\"seat\">\r\n\t\t\t\t\t\t\t<uni-easyinput type=\"text\" v-model=\"ticketInfo.seat\" placeholder=\"例:5拍14座\" maxlength=\"16\" />\r\n\t\t\t\t\t\t</uni-forms-item>\r\n\t\t\t\t\t\t<uni-forms-item label=\"票价(￥):\" name=\"price\">\r\n\t\t\t\t\t\t\t<uni-easyinput type=\"digit\" v-model=\"ticketInfo.price\" maxlength=\"8\" />\r\n\t\t\t\t\t\t</uni-forms-item>\r\n\t\t\t\t\t\t<uni-forms-item label=\"放映时间:\" name=\"dateTime\">\r\n\t\t\t\t\t\t\t<uni-datetime-picker type=\"datetime\" :clear-icon=\"false\" v-model=\"ticketInfo.dateTime\"\r\n\t\t\t\t\t\t\t\thide-second />\r\n\t\t\t\t\t\t</uni-forms-item>\r\n\t\t\t\t\t</uni-forms>\r\n\t\t\t\t\t<view class=\"btn-area\">\r\n\t\t\t\t\t\t<button type=\"primary\" @click=\"cancel\">取 消</button>\r\n\t\t\t\t\t\t<button @click=\"save\">预 览</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</uni-drawer>\r\n\t\t<ksp-cropper v-if=\"showCrop\" mode=\"ratio\" :width=\"300\" :height=\"420\" :maxWidth=\"1024\" :maxHeight=\"1024\"\r\n\t\t\t:url=\"ticketInfo.bigImg\" @cancel=\"oncancel\" @ok=\"onok\" />\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: \"TemplateA\",\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshowCrop: false,\r\n\t\t\t\tpreBigImg: '',\r\n\t\t\t\tticketUrl: '',\r\n\t\t\t\tpreTicket: {},\r\n\t\t\t\tticketInfo: {\r\n\t\t\t\t\tbigImg: '../../static/lldq.jpg',\r\n\t\t\t\t\tmainTitle: '流浪地球2',\r\n\t\t\t\t\tsubTitle: 'The Wandering Earth II',\r\n\t\t\t\t\tduration: 147,\r\n\t\t\t\t\tkinds: '科幻/冒险/灾难',\r\n\t\t\t\t\treleaseTime: '2023-01-22',\r\n\t\t\t\t\tcinema: '幸福蓝海国际影城',\r\n\t\t\t\t\thell: '5号全景声厅',\r\n\t\t\t\t\tseat: '5排14座',\r\n\t\t\t\t\tprice: '52.00',\r\n\t\t\t\t\tdateTime: '2023-01-23 14:10',\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tselectImg(rsp) {\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount: 1,\r\n\t\t\t\t\tsuccess: (rst) => {\r\n\t\t\t\t\t\tthis.preBigImg = this.ticketInfo.bigImg\r\n\t\t\t\t\t\tthis.ticketInfo.bigImg = rst.tempFilePaths[0];\r\n\t\t\t\t\t\tthis.showCrop = true\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonok(ev) {\r\n\t\t\t\tthis.ticketInfo.bigImg = ev.path;\r\n\t\t\t\tthis.showCrop = false\r\n\t\t\t},\r\n\t\t\toncancel() {\r\n\t\t\t\tthis.ticketInfo.bigImg = this.preBigImg\r\n\t\t\t\tthis.showCrop = false\r\n\t\t\t},\r\n\t\t\tshowDrawer() {\r\n\t\t\t\tthis.preTicket = JSON.parse(JSON.stringify(this.ticketInfo))\r\n\t\t\t\tthis.$refs['drawer'].open()\r\n\t\t\t},\r\n\t\t\tcancel() {\r\n\t\t\t\tthis.ticketInfo = JSON.parse(JSON.stringify(this.preTicket))\r\n\t\t\t\tthis.$refs['drawer'].close()\r\n\t\t\t},\r\n\t\t\tsave() {\r\n\t\t\t\tthis.$refs['drawer'].close()\r\n\t\t\t\tthis.drawTemplate()\r\n\t\t\t},\r\n\t\t\tcreateImage() {\r\n\t\t\t\tuni.canvasToTempFilePath({\r\n\t\t\t\t\tquality: 1,\r\n\t\t\t\t\tcanvasId: 'TemplateA',\r\n\t\t\t\t\tcomplete: (res) => {\r\n\t\t\t\t\t\tif (res.tempFilePath) {\r\n\t\t\t\t\t\t\tthis.ticketUrl = res.tempFilePath.replace(/[\\r\\n]/g, '');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t}, this)\r\n\t\t\t},\r\n\t\t\tdrawText(ctx, str, leftWidth, initHeight, canvasWidth) {\r\n\t\t\t\tlet lineWidth = 0;\r\n\t\t\t\tlet lastSubStrIndex = 0; //每次开始截取的字符串的索引\r\n\t\t\t\tfor (let i = 0; i < str.length; i++) {\r\n\t\t\t\t\tlineWidth += ctx.measureText(str[i]).width;\r\n\t\t\t\t\tif (lineWidth > canvasWidth) {\r\n\t\t\t\t\t\tctx.fillText(str.substring(lastSubStrIndex, i), leftWidth, initHeight); //绘制截取部分\r\n\t\t\t\t\t\tinitHeight += 16; //22为 文字大小20 + 2\r\n\t\t\t\t\t\tlineWidth = 0;\r\n\t\t\t\t\t\tlastSubStrIndex = i;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (i == str.length - 1) { //绘制剩余部分\r\n\t\t\t\t\t\tctx.fillText(str.substring(lastSubStrIndex, i + 1), leftWidth, initHeight);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tdrawTemplate() {\r\n\t\t\t\tconst width = 300\r\n\t\t\t\tconst leftOffset = 10\r\n\t\t\t\tconst rightOffset = width - leftOffset\r\n\t\t\t\tconst ctx = uni.createCanvasContext('TemplateA', this);\r\n\t\t\t\t//票根\r\n\t\t\t\tctx.setFillStyle('#fff')\r\n\t\t\t\tctx.fillRect(0, 0, width, 850);\r\n\t\t\t\t//海报\r\n\t\t\t\tctx.setFillStyle('#f1f1f1')\r\n\t\t\t\tctx.fillRect(0, 0, width, 420);\r\n\t\t\t\tctx.drawImage(this.ticketInfo.bigImg, 0, 0, 300, 420)\r\n\t\t\t\t//主标题\r\n\t\t\t\tctx.setFontSize(16)\r\n\t\t\t\tctx.setFillStyle('#000000')\r\n\t\t\t\tctx.fillText(this.ticketInfo.mainTitle, leftOffset, 450);\r\n\t\t\t\t//副标题\r\n\t\t\t\tctx.setFontSize(12)\r\n\t\t\t\tctx.setFillStyle('#191919')\r\n\t\t\t\tctx.fillText(this.ticketInfo.subTitle, leftOffset, 470);\r\n\t\t\t\t//虚线\r\n\t\t\t\tconst dashYarr = [480, 552]\r\n\t\t\t\tdashYarr.forEach(item => {\r\n\t\t\t\t\tctx.setLineDash([8, 6], 4);\r\n\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\tctx.moveTo(leftOffset, item);\r\n\t\t\t\t\tctx.lineTo(rightOffset, item);\r\n\t\t\t\t\tctx.setLineWidth(2)\r\n\t\t\t\t\tctx.setStrokeStyle('#7d7e7b')\r\n\t\t\t\t\tctx.stroke();\r\n\t\t\t\t})\r\n\t\t\t\t//详情\r\n\t\t\t\tconst detailH = 20\r\n\t\t\t\tconst detailArr = [\r\n\t\t\t\t\t`${this.ticketInfo.duration} 分钟`,\r\n\t\t\t\t\tthis.ticketInfo.kinds,\r\n\t\t\t\t\t`${this.ticketInfo.releaseTime} 上映`\r\n\t\t\t\t]\r\n\t\t\t\tdetailArr.forEach((item, index) => {\r\n\t\t\t\t\tctx.setFontSize(12)\r\n\t\t\t\t\tctx.setFillStyle('#4d4d4d')\r\n\t\t\t\t\tctx.fillText(item, leftOffset, 500 + index * detailH);\r\n\t\t\t\t})\r\n\t\t\t\t//票信息\r\n\t\t\t\tconst infoWidth = (width - 2 * leftOffset) / 3\r\n\t\t\t\tconst InfoLabelArr = [{\r\n\t\t\t\t\t\ttxt: 'CINEMA/影院:',\r\n\t\t\t\t\t\tx: leftOffset,\r\n\t\t\t\t\t\ty: 580\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttxt: 'HELL/影厅:',\r\n\t\t\t\t\t\tx: leftOffset,\r\n\t\t\t\t\t\ty: 630\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttxt: 'SEAT/座位:',\r\n\t\t\t\t\t\tx: leftOffset + infoWidth,\r\n\t\t\t\t\t\ty: 630\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttxt: 'PRICE/票价:',\r\n\t\t\t\t\t\tx: leftOffset + infoWidth * 2,\r\n\t\t\t\t\t\ty: 630\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttxt: 'DATE/日期:',\r\n\t\t\t\t\t\tx: leftOffset,\r\n\t\t\t\t\t\ty: 690\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttxt: 'TIME/时间:',\r\n\t\t\t\t\t\tx: leftOffset + infoWidth,\r\n\t\t\t\t\t\ty: 690\r\n\t\t\t\t\t},\r\n\t\t\t\t]\r\n\t\t\t\tInfoLabelArr.forEach(item => {\r\n\t\t\t\t\tctx.setFontSize(13)\r\n\t\t\t\t\tctx.setFillStyle('#928d89')\r\n\t\t\t\t\tctx.fillText(item.txt, item.x, item.y);\r\n\t\t\t\t})\r\n\t\t\t\tconst InfoCntArr = [{\r\n\t\t\t\t\t\ttxt: this.ticketInfo.cinema,\r\n\t\t\t\t\t\tx: leftOffset,\r\n\t\t\t\t\t\ty: 600\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttxt: this.ticketInfo.hell,\r\n\t\t\t\t\t\tx: leftOffset,\r\n\t\t\t\t\t\ty: 650\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttxt: this.ticketInfo.seat,\r\n\t\t\t\t\t\tx: leftOffset + infoWidth,\r\n\t\t\t\t\t\ty: 650\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttxt: `￥ ${this.ticketInfo.price}`,\r\n\t\t\t\t\t\tx: leftOffset + infoWidth * 2,\r\n\t\t\t\t\t\ty: 650\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttxt: this.ticketInfo.dateTime.split(' ')[0],\r\n\t\t\t\t\t\tx: leftOffset,\r\n\t\t\t\t\t\ty: 710\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttxt: this.ticketInfo.dateTime.split(' ')[1],\r\n\t\t\t\t\t\tx: leftOffset + infoWidth,\r\n\t\t\t\t\t\ty: 710\r\n\t\t\t\t\t},\r\n\t\t\t\t]\r\n\t\t\t\tInfoCntArr.forEach((item, index) => {\r\n\t\t\t\t\tctx.setFontSize(12)\r\n\t\t\t\t\tctx.setFillStyle('#928d89')\r\n\t\t\t\t\tif (index === 0) {\r\n\t\t\t\t\t\tctx.fillText(item.txt, item.x, item.y)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.drawText(ctx, item.txt, item.x, item.y, infoWidth - 5)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t//虚线\r\n\t\t\t\tctx.setLineDash([10, 5], 5);\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.moveTo(0, 750);\r\n\t\t\t\tctx.lineTo(width, 750);\r\n\t\t\t\tctx.setLineWidth(3)\r\n\t\t\t\tctx.setStrokeStyle('#000000')\r\n\t\t\t\tctx.stroke();\r\n\t\t\t\t//打孔点\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.arc(0, 750, 8, 0, 360, false);\r\n\t\t\t\tctx.arc(width, 750, 8, 0, 360, false);\r\n\t\t\t\tctx.setFillStyle('#000000')\r\n\t\t\t\tctx.fill();\r\n\t\t\t\t//底部虚线\r\n\t\t\t\tctx.setLineDash([10, 5], 5);\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.moveTo(0, 850);\r\n\t\t\t\tctx.lineTo(width, 850);\r\n\t\t\t\tctx.setStrokeStyle('#7d7e7b')\r\n\t\t\t\tctx.stroke();\r\n\t\t\t\t//thank\r\n\t\t\t\tctx.setFontSize(14)\r\n\t\t\t\tctx.setTextAlign('center')\r\n\t\t\t\tctx.setFillStyle('#000000')\r\n\t\t\t\tctx.fillText(`${this.ticketInfo.dateTime.split(' ')[0]} 观影留念`, 150, 810);\r\n\t\t\t\tctx.setFillStyle('#000000')\r\n\t\t\t\tctx.fillText('THANK YOU FOR WATCHING', 150, 780);\r\n\t\t\t\tctx.setTextAlign('left')\r\n\t\t\t\tctx.draw(false, () => {\r\n\t\t\t\t\tthis.createImage()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.drawTemplate()\r\n\t\t}\r\n\t}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n\t.TemplateA {\r\n\t\tposition: relative;\r\n\r\n\t\t.canvas {\r\n\t\t\ttop: -850px;\r\n\t\t\twidth: 300px;\r\n\t\t\theight: 850px;\r\n\t\t}\r\n\r\n\t\t.wrap {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 50%;\r\n\t\t\tmargin-left: -150px;\r\n\t\t\twidth: 300px;\r\n\t\t\tdisplay: flex;\r\n\r\n\t\t\timage {\r\n\t\t\t\twidth: 300px !important;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.scroll-y {\r\n\t\t\theight: 100%;\r\n\r\n\t\t\t.form {\r\n\t\t\t\tpadding-right: 15px;\r\n\t\t\t\tpadding-top: 20px;\r\n\r\n\t\t\t\timage {\r\n\t\t\t\t\twidth: 100px !important;\r\n\t\t\t\t\tmargin-right: 10px;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.btn-area {\r\n\t\t\t\t\theight: 80px;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t\t\tbutton {\r\n\t\t\t\t\t\twidth: 100px;\r\n\t\t\t\t\t\theight: 36px;\r\n\t\t\t\t\t\tline-height: 36px;\r\n\t\t\t\t\t\tfont-size: 14px;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-1!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-2!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./TemplateA.vue?vue&type=style&index=0&id=a6310958&lang=less&scoped=true&\"; export default mod; export * from \"-!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-1!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-2!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\GKMruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./TemplateA.vue?vue&type=style&index=0&id=a6310958&lang=less&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1680580376199\n      var cssReload = require(\"E:/GKMruanjian/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}